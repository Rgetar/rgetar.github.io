<!DOCTYPE html>
<html xmlns = "http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8" />
<title>Ordinal Explorer</title>
</head>
<style type="text/css" media="Screen">
a{text-decoration:none;color:blue;}
a:hover{text-decoration:underline;}
a:visited{color:blue;}
li{list-style-type:none;cursor:pointer;}
td{cursor:pointer;}
body{line-height:2;}
sub{font-size:0.83rem;}
sup{font-size:0.83rem;}
</style>
<body style="font-family:Arial;white-space:pre;visibility:hidden;"
><span style="visibility:visible;"><h1>Ordinal Explorer</h1>List:<hr/><ul id="list"
><li id="-"></li><li id="Limit">Limit</li></ul><hr/><span id="counter"
>Total 1 ordinal</span>
<span onmousedown="return false">
<table id="resett" border="5" cellspacing="0" cellpadding="0" style="border-color:#ffc0c0;opacity:0.5;">
<tr>
<td id="reset" style="background:#ffffd0;font-size:20px;border-color:#00ff00;">       Reset list       </td>
</tr>
</table></span
><div align="center" onmousedown="return false" style="font-size:13px;"><i>Select collapse and expansion tools:</i>
<table id="exptable" border="4" cellspacing="0" cellpadding="0">
<tr>
<td id="et0" style="font-size:11px;">   small   </td>
<td id="et1" style="font-size:20px;">   1   </td>
<td id="et2" style="font-size:18px;">   2   </td>
<td id="et3" style="font-size:18px;">   3   </td>
<td id="et4" style="font-size:18px;">   4   </td>
<td id="et5" style="font-size:18px;">   5   </td>
<td id="et6" style="font-size:18px;">   6   </td>
<td id="et7" style="font-size:18px;">   7   </td>
<td id="et8" style="font-size:18px;">   8   </td>
<td id="et9" style="font-size:18px;">   9   </td>
<td id="etc" style="font-size:9px;">  collapse  </td>
<td id="etv" style="background:#b0ffb0;font-size:12px;">   view   </td>
</tr>
</table></div>
<div align="center" onmousedown="return false" style="font-size:13px;"><i>Amount of extra fundamental sequence elements:</i>
<table cellspacing="0" cellpadding="0">
<tr>
<td id="decef" style="color:#eeeeee;font-size:35px;cursor:default;">◅ </td>
<td id="ecfve" style="cursor:default;"><table border="4" cellspacing="0" cellpadding="0">
<tr>
<td id="ecfv" style="font-size:20px;cursor:default;">   0   </td>
</tr>
</table></td>
<td id="incef" style="font-size:35px;"> ▻</td>
</tr>
</table></div
><div align="center" onmousedown="return false" style="font-size:13px;"><i>Amount of fundamental sequence elements, displayed near mouse cursor:</i>
<table cellspacing="0" cellpadding="0">
<tr>
<td id="decd" style="font-size:35px;">◅ </td>
<td id="disp" style="cursor:default;"><table border="4" cellspacing="0" cellpadding="0">
<tr>
<td id="dis" style="font-size:20px;cursor:default;background:#b0ffb0"></td>
</tr>
</table></td>
<td id="incd" style="font-size:35px;"> ▻</td>
</tr>
</table></div
><div align="center" onmousedown="return false" style="font-size:13px;"><i>Text near mouse cursor:</i>
<table border="4" cellspacing="0" cellpadding="0">
<tr>
<td id="vtext" style="background:#b0ffb0;font-size:12.5px;">    <big><big><big>✓</big></big></big>    </td>
</tr>
</table></div><div id="xs" style="position:fixed;border:1px solid #cccccc;border-radius:5px;padding:5px 15px 5px 15px;";
hidden></div><script
>'use strict'
// get position of last symbol p of string st (if l=true then first)
function getls(st,p,l=false){
let e=l?-1:st.length;
let np=0;
while(((!l&&e>-1)||(l&&e<st.length))&&(np!=0||st[e]!=p)){
   l?e++:e--;
   if (st[e]=='['||st[e]=='(') np--;
   else if (st[e]==']'||st[e]==')') np++;}
return e;}

// create [booster]base string
function bb(booster,base){
return '['+booster+']'+base;}

// get base of string st
function base(st){
return st.slice(getls(st,']',true)+1);}

// get booster of string st
function booster(st){
return st.slice(1,getls(st,']',true));}

// get successor of ordinal st
function suc(st){
return '[]'+st;}

// get predecessor of successor ordinal st = X + 1
function pred(st){
return st.slice(2);}

// finite ordinal string st to number
function fostn(st){
return st.length/2;}

// finite ordinal e from integer to computer format
function cf(e){
let s='';
for(let i=0;i<e;i++) 
   s=suc(s)
return s;}

// compare expressions st1, st2 (if st1<st2 then -1; if st1=st2 then 0; if st1>st2 then 1)
function compare(st1,st2){
return st1==st2?0:[...st1].reverse()>[...st2].reverse()?1:-1}

// delete all boosters of b < b, add a booster
function bbc(a,b){
while(b!=''&&b!=col&&compare(a,booster(b))==1)
   b=base(b);
return bb(a,b);}

function rest(l,st){
return compare(l,st)==1?st:rest(l,booster(st));}

function ceill(l,st){
return compare(l,st)==1?l:bbc(ceill(l,booster(st)),st);}

function ledge(st){
let x=booster(st);
return compare(col,x)==1?col:bbc(ceill(col,x),base(st));}

function cascade(x,c,st){
let y=booster(c);
let d=cof(y);
let s=d==col||d==ledge(c)?bb(fs(y,rest(d,x)),base(c)):cascade(y,d,c);
return bb(fs(x,s),base(st));}

// get cofinality of ordinal st
function cof(st){
if(st==bo)                         // L
   return '[[]]';
else if (st==''||st==col)            // 1, 6
   return st;
else{
   let x=booster(st);
   if(x=='')                       // 2
      return '[]';
   else{
      let c=cof(x);
      if(c=='[]')                // 3
         return '[[]]';
      else if(compare(st,c)==1)       // > C
         return c;
      else{
         let l=ledge(st);
         if(compare(l,c)<1)
            return st;                    // 7
         else{
            let ca=compare(bbc(ceill(l,x),base(st)),c);
            if(ca==1)   // 4, 5, 8
               return c;
            else if(ca==0)
               return '[[]]';   
            else 
               return cof(cascade(x,c,st));
            }
         }
      }
   }
}

// get n-th element of fs of ordinal st
function fs(st,n){
if(st==bo){
   let s=col;
   for(let i=0;i<fostn(n);i++)
      s=bb(s,col);
   for(let i=0;i<2;i++)
      s=bb(s,'');
   return s;}
else if(st==''||st==col)     // 1, 6
   return n;
else{
   let x=booster(st);
   let beta=base(st);
   if(x=='')                         // 2
      return beta;
   else{
      let c=cof(x);
      if(c=='[]'){                    // 3
         let s=beta;
         x=pred(x);
         for(let i=0;i<fostn(n);i++)
            s=bb(x,s);
         return s;}
      else if(compare(st,c)==1)     // > C
         return bb(fs(x,n),beta);
      else{
         let l=ledge(st);
         if(compare(l,c)<1)       // 7
            return n;
         else{
            let ca=compare(bbc(ceill(l,x),base(st)),c);
            if(ca==1)                   // 4, 5, 8
               return bb(fs(x,n),beta);
            else if(ca==0){              // 9
               let s=beta;
               for(let i=0;i<fostn(n);i++)
                  s=bb(fs(x,s),beta);
               return s;}
            else
               return fs(cascade(x,c,st),n);
            }
         }
      }
   }
}

// is st epsilon number
function eps(st){
return st==''?false:st==col||st==bo?true:compare(st,booster(st))<1;}

// get CNF of st
function cnf(st){
let c=[],s,t,e=-1;
while(st){
   [s,st]=eps(st)?[st,'']:[booster(st),base(st)];
   if(c.length==0||compare(t,s)<1){
      if(e<0||c[e][0]!=s){
         c.push([s,1]);
   	   e++;}
   	else   
   	   c[e][1]++;
   	t=s;}
   } 	   	
for(s of c){
if(!eps(s[0]))
   s[0]=cnf(s[0]);}            
return c;        	
}

function unone(st){
return st=='1'?'':st;}

function omegaex(st){
let e=st.length-1;
let s='';
let ex;
while(e>=0){
   s+=' + ';
   ex=st[e][0];
   if(Array.isArray(ex)){
      if(ex==0)
         s+=st[e][1];
      else{   
   	   s+='ω';
   	   if(ex.length!=1||ex[0][0]!=0||ex[0][1]!=1)
   	      s+='<sup>'+omegaex(ex)+'</sup>';
   	   s+=unone(st[e][1]);
   	   }   
      }
   else
   	s+=convertepsilon(ex)+unone(st[e][1]);
   e--;	
   }
return s==''?'0':s.slice(3);         	
}

function convertepsilon(st){
if(st==col||st==bo)
   return st; 
let beta=base(st);   
return bb(omegaex(cnf(booster(st))),beta==''?'':(omegaex(cnf(beta))));
}

function convert(st){
return format==0?st:omegaex(cnf(st));
}

function rx(s,c,n,q){
count++;
let x=document.createElement('li');
x.id=s;
x.innerHTML=convert(s);
if(s==''||s.slice(0,2)=='[]')
   x.style.cursor='default';
x=x.outerHTML;
if(q>0){
	let y=document.createElement('ul');
   s=fs(c,n);
   n=suc(n);
   y.innerHTML=rx(s,c,n,q-1);
   x+=y.outerHTML;} 
return x;     
}

// small expansion of pair c > l
function se(c,l,q){
let n='';
let s;
do{
   s=fs(c,n);
   n=suc(n);}
while(l!='-'&&compare(s,l)<1)
return q==-1?s:rx(s,c,n,q);  	
}

function pl(c){
let e=0;
let l=c.previousSibling;
if(l==null){
   e++;
   l=c.parentNode.previousSibling;}  
while(l.tagName!='LI'){
   e--;
   l=l.lastChild;}
return [l,e];}

function cl(c){
while(c.lastChild.tagName=='UL')
    c=c.lastChild;
return c;}

function countli(c){
if(c.tagName=='LI')
   return 1;
let n=0;   
for(let l=c.firstChild;l!=null;l=l.nextSibling)
   if(l.tagName=='UL')
      n+=countli(l);
   else  
      n++;
return n;      
}

function formatting(c=list){  
for(let l=c.firstChild;l!=null;l=l.nextSibling)
   if(l.tagName=='UL')
      formatting(l);
   else if(l.id!='-') 
      l.innerHTML=convert(l.id);     
}

document.onmousemove=function(e){
   xs.style.left=e.clientX+35+'px';
   xs.style.top=e.clientY-5+'px';  
}

document.onmouseover=function(e){
if(vt){
let c=e.target;
let h;
if(c.id=='reset'){
   h='<div id="res1"'+(count>1?'':' style="font-style:italic"')+'><nobr id="res2"'+(count>1?' style="font-weight:bold"':'')+'>Reset list</nobr></div><i>use "R" key</i>';
   if(count>1)
      xs.style.background='#fffff0';
   }
else if(c.id=='vtext'||c.tagName=='BIG'){
   h='<b>Hide</b> text near mouse cursor<br/><i>use "T" key</i>';
   xs.style.background='#fffff0';
   }
else if(c.id=='decef'){
   h='<div id="decd1"'+(efs>0?'':' style="font-style:italic"')+'><nobr id="decd2"'+(efs>0?' style="font-weight:bold"':'')+'>Remove</nobr> extra fs element</div><i>use "-" key</i>';
   if(efs>0) 
      xs.style.background='#fffff0';
   }
else if(c.id=='incef'){
   h='<b>Add</b> extra fs element<br/><i>use "+" key</i>';
   xs.style.background='#f0fff0';
   }
else if(c.id=='decd'){
   h='<div id="dec1"'+(di>0?'':' style="font-style:italic"')+'><nobr id="dec2"'+(di>0?' style="font-weight:bold"':'')+'>Remove</nobr> fs element, displayed near mouse cursor</div><i>use "<" key</i>';
   if(di>0) 
      xs.style.background='#fffff0';
   }
else if(c.id=='incd'){
   h='<b>Add</b> fs element, displayed near mouse cursor<br/><i>use ">" key</i>';
   xs.style.background='#f0fff0';
   }
else if(c.id=='ecfv'){
   h='<small><small><div style="line-height:1">Enhance expansions.<br/>After expansion extra fs elements of all expanded elements are added to the list.</div></small></small>'; 
   xs.style.background='#fff';
   } 
else if(c.id=='dis'){
   h='<small><small><div style="line-height:1">Amount of fs elements, displayed near mouse cursor, when you hover over an ordinal</div></small></small>'; 
   xs.style.background='#fff';
   }    
else if(c.tagName=='TD'&&c.id!='ecfve'&&c.id!='disp'){
   let i=c.id=='etc'?-1:c.id=='etv'?-2:c.id[2]; 
   h='<b>'+exp[i]+'</b><br/><small><small><div style="line-height:1">'
   if(i==-2){
      h+='Just view, do not expand or collapse.';     
      }   
   else if(i==-1){
      h+='Removes elements from the list.<br/><br/>';
      h+='"Do collapse of pair <b>a, b</b>" means "remove all elements between <b>a</b> and <b>b</b>".<br/><br/>';
      h+='"Do collapse of <b>b</b>" means "remove all elements before <b>b</b>".<br/><br/>';
      h+='Can revert expansions. For example,<br/>to revert small or single expansion, do collapse 1 time;<br/>';
      h+='to revert double expansion, do collapse 2 times;<br/>';
      h+='to revert triple expansion, do collapse 3 times; etc.';     
      }
   else if(i==0){
      h+='Inserts one element between current element <b>b</b> and previous element <b>a</b>,<br/>'; 
      h+='or, if <b>b</b> is the first element of the list, inserts one element before <b>b</b>.<br/><br/>';
      h+='"Do small expansion of pair <b>a, b</b>" means "compute least fs element of <b>b</b> larger than <b>a</b> and insert it between <b>a</b> and <b>b</b>".<br/><br/>';
      h+='"Do small expansion of <b>b</b>" means "compute least fs element of <b>b</b> and insert it before <b>b</b>".';     
      }  
   else if(i==1){ 
      h+='Inserts elements between current element <b>b</b> and previous element <b>a</b>,<br/>'; 
      h+='or, if <b>b</b> is the first element of the list, inserts elements before <b>b</b>.<br/><br/>';
      h+='"Do single expansion of pair <b>a, b</b>" means "do small expansion of pair <b>a, b</b> — insert element <b>c</b>;<br/>';
      h+='then do small expansion of pair <b>a, c</b> — insert element <b>d</b>;<br/>';
      h+='then do small expansion of pair <b>a, d</b> — insert element <b>e</b>; etc.<br/>';
      h+='continue until pair <b>a, a + 1</b>".<br/><br/>';
      h+='"Do single expansion of <b>b</b>" means "do small expansion of <b>b</b> — insert element <b>c</b>;<br/>';
      h+='then do small expansion of <b>c</b> — insert element <b>d</b>;<br/>';
      h+='then do small expansion of <b>d</b> — insert element <b>e</b>; etc.<br/>';
      h+='continue until <b>0</b>".<br/>';     
      }  
   else{
      h+='Inserts elements between current element <b>b</b> and previous element <b>a</b>,<br/>'; 
      h+='or, if <b>b</b> is the first element of the list, inserts elements before <b>b</b>.<br/><br/>';
      h+='"Do '+exp[i]+' of pair <b>a, b</b>" means "do single expansion of pair <b>a, b</b> — insert elements <b>c, d, e, ...</b>;<br/>'; 
      h+='then do '+exp[i-1]+'s of pair <b>c, b</b>, of pair <b>d, c</b>, of pair <b>e, d</b>, etc."<br/><br/>';
      h+='"Do '+exp[i]+' of <b>b</b>" means "do single expansion of <b>b</b> — insert elements <b>c, d, e, ...</b>;<br/>';
      h+='then do '+exp[i-1]+'s of pair <b>c, b</b>, of pair <b>d, c</b>, of pair <b>e, d</b>, etc."<br/>';
      }       
   h+='</div></small></small>'; 
   h+='<i>use "';
   h+=i==-1?'C':i==-2?'V':i==0?'0" or "S':i;  
   h+='" key</i>';  
   xs.style.background=c.id=='etc'?'#fffff0':'#f0fff0';}  
else{
   while(c.tagName=='SUB'||c.tagName=='SUP')
      c=c.parentNode;
   h='<nobr id="ex1">'+exp[eo]+'</nobr>';
   xs.style.background='#fff';  
   h+='<span id="extra1"'+(efs==0||eo<0?' hidden':'')+'> with <nobr id="extra2">'+efs+'</nobr> extra fs element<nobr id="extra3">'+(efs==1?'':'s')+'</nobr></span>';   
   if(c.tagName=='LI'){
      lea=c;
      let q=c.previousSibling;
      exb[0]=q!=null&&q.id!='-';
      exb[1]=c.id!=''&&c.id.slice(0,2)!='[]';
      let i=eo<0?0:1;
      let b=exb[i]; 
      if(exb[0]){  
         pairl[0]=(q.tagName=='UL'?cl(q):q.parentNode).previousSibling;
         pairb[0]=pairl[0].id!='-';}
      else{ 
      	pairb[0]=false;
      	pairl[0]='-';}   
      if(exb[1]){
         pairl[1]=pl(c)[0];
         pairb[1]=pairl[1].id!='-';}
      else{ 
      	pairb[1]=false; 
      	pairl[0]='-';}     	  
      h+='<span id="ex4"'+(b?'':' hidden')+'>';                         
      h+=' of ';
      let l=pairl[i];
      h+='<nobr id="ex2">'+(l.id!='-'?'pair ':'')+'</nobr>';
      h+='<nobr id="ex3">'+(l.id!='-'?(l.innerHTML+', '):'')+'</nobr>';
      h+=c.innerHTML;      
      if(b&&eo!=-2)
         xs.style.background=i==0?'#fffff0':'#f0fff0';
      h+='</span>';          
      h='<div id="ex7"'+(eo==-2&&c.tagName=='LI'?' hidden':'')+'><span id="ex6" style="font-weight:'+(b?'bold':'normal')+';font-style:'+(b?'normal':'italic')+'"><nobr id="ex5">'+(b?'Do ':'')+'</nobr>'+h+'</b></span>';                      
      h+='<br/></div><b>'+c.innerHTML+'</b><span'+(c.id==''?'':' id="fsd"')+(di>0||c.id==''?'':' hidden')+'> fundamental sequence:'; 
      if(c.id=='')
         h+='<br>'+'   <i>empty</i>';
      else{
         fsn='';
         fsp=c.id.slice(0,2)!='[]';
         fsl=c.id;
      	for(let i=0;i<(fsp?di:1);i++){   	      
      	   h+='<li>   '+i+': '+convert(fs(fsl,fsn))+'</li>';
      	   fsn=suc(fsn);}  
      	if(fsp)      
   	      h+='<li id="dots">   ...</li>';   
   	   }
   	h+='</span>';                  
   }
   else
   	h='<div id="ex7"'+(eo==-2&&c.tagName=='LI'?' hidden':'')+'>'+h+'</div>';
   } 
xs.hidden=false;   
xs.innerHTML=h;    
}}

document.onmouseout=function(e){
   xs.hidden=true;  
}

list.onclick=function(e){
if(eo!=-2){
let c=e.target;
while(c.tagName=='SUB'||c.tagName=='SUP')
   cc=c.parentNode;
if(c.id!='list'&&c.id!=''&&c.id.slice(0,2)!='[]'){
   let sc;
   let sc1=c;
   if(eo<0){
   c=c.previousSibling;
   if(c!=null&&c.id!='-')
   if(c.tagName=='UL'){       
      c=cl(c);             
      count-=countli(c);
      sc=c.previousSibling;   
      c.remove();}
   else{
      let q=c;
      sc=c.parentNode.previousSibling;
      while(c!=null){        
         c=c.previousSibling;
         count-=countli(q);
         q.remove();
         q=c;}        
      }	
   }
   else{    
      let[l,i]=pl(c);
      sc=l;
      e=(eo==0?1:eo)-i;    
      while(c!=l){
         if(c.previousSibling==null){
            if(e>=0)
               c.insertAdjacentHTML('beforebegin',se(c.id,pl(c)[0].id,e+efs));}
         else{
            let[q,i]=pl(c);
            i=e+i-1;
            if(i>=0){
               let y=document.createElement('ul');
               y.innerHTML=se(c.id,q.id,i+efs);
               q.insertAdjacentHTML('afterend',y.outerHTML);}      	
            }
         if(eo==0)
            c=l;
         else
            do{
               [c,i]=pl(c);
               e+=i;}
            while(c!=l&&(c.id==''||c.id.slice(0,2)=='[]'));
         }                           
      }     
   counter.innerHTML='Total '+count+' ordinal'+(count==1?'':'s');
   resett.style.opacity=count==1?0.5:1;
   if(sc.getBoundingClientRect().top<0||sc1.getBoundingClientRect().bottom>window.innerHeight)
   if(eo<0||sc1.getBoundingClientRect().bottom-sc.getBoundingClientRect().top>window.innerHeight)
      sc.scrollIntoView();
   else   
      sc1.scrollIntoView(false);
   let u=new Event('mouseover');
   Object.defineProperty(u,'target',{value:sc1});
   document.dispatchEvent(u);          
   }
}
window.onunload=function(e){
window.scrollTo(0,0);
}}

exptable.onclick=function(e){
let c=e.target;
if(c.tagName=='TD'){    
   etar[eo].style.background='#fff';   
   eo=c.id=='etc'?-1:c.id=='etv'?-2:c.id[2];
   c.style.background=eo==-1?'#ffffb0':'#b0ffb0';
   }
}

vtext.onclick=function(e){
let c=e.target;
while(c.tagName!='TD')
   c=c.parentNode;
if(vt){
   c.style.background='#fff';
   c.style.color='#fff';
   vt=false;
   xs.hidden=true;
   }
else{
   c.style.background='#b0ffb0';
   c.style.color='#000';
   vt=true;
   xs.hidden=false;
   }      
}

decef.onclick=function(e){
if(efs>0){
   efs--;
   ecfv.innerHTML='   '+efs+'   ';
   if(efs==0){
      ecfv.style.background='#fff';
      decef.style.color='#eeeeee';
      decef.style.cursor='default';
      xs.style.background='#fff';
      if(document.getElementById('decd1')!=null){
         decd1.style['font-style']='italic';
         decd2.style['font-weight']='normal';
         }
      } 	
   }      
}

incef.onclick=function(e){
efs++;
ecfv.innerHTML='   '+efs+'   ';
if(efs==1){
   decef.style.color='#000';
   decef.style.cursor='pointer';
   ecfv.style.background='#b0ffb0';
   }    
}

decd.onclick=function(e){
if(di>0){
   di--;
   dis.innerHTML='   '+di+'   ';
   if(di==0){
      dis.style.background='#fff';
      decd.style.color='#eeeeee';
      decd.style.cursor='default';
      xs.style.background='#fff';
      if(document.getElementById('dec1')!=null){
         dec1.style['font-style']='italic';
         dec2.style['font-weight']='normal';
         }
      } 	
   }      
}

incd.onclick=function(e){
di++;
dis.innerHTML='   '+di+'   ';
if(di==1){
   decd.style.color='#000';
   decd.style.cursor='pointer';
   dis.style.background='#b0ffb0';
   }    
}

function resetlist(){
list.innerHTML='<li id="-"></li><li id="Limit">Limit</li>';
count=1;
counter.innerHTML='Total 1 ordinal';
window.scrollTo(0,0);
resett.style.opacity=0.5;
if(document.getElementById('res2')!=null){
    xs.style.background='#fff';
    res1.style['font-style']='italic';
    res2.style['font-weight']='normal';}
}

reset.onclick=function(e){
resetlist();}

document.addEventListener('keydown',function(e){
let c=e.code;
if(c.slice(0,5)=='Digit'||c=='KeyS'||c=='KeyC'||c=='KeyV'){
   let i=c.slice(0,5)=='Digit'?c.slice(5):c=='KeyS'?0:c=='KeyV'?-2:-1;
   etar[eo].style.background='#fff';
   etar[i].style.background=i==-1?'#ffffb0':'#b0ffb0';
   eo=i;
   if(document.getElementById('ex1')!=null)
      ex1.innerHTML=exp[eo]; 
   if(document.getElementById('ex7')!=null)
   if(eo==-2){
   	ex7.hidden=true;
   	xs.style.background='#fff';}
   else{	
      i=eo<0?0:1;
      ex4.hidden=!exb[i];
      ex5.innerHTML=exb[i]?'Do ':'';
      ex6.style['font-weight']=exb[i]?'bold':'normal';
      ex6.style['font-style']=exb[i]?'normal':'italic';
      xs.style.background=exb[i]?(i==0?'#fffff0':'#f0fff0'):'#fff';
      ex2.innerHTML=pairb[i]?'pair ':'';
      ex3.innerHTML=pairb[i]?pairl[i].innerHTML+', ':'';
      ex7.hidden=false;
      }          
   if(document.getElementById('extra1')!=null)
      extra1.hidden=efs==0||eo<0;       
   }
else if(c=='Minus'||c=='NumpadSubtract'){
if(efs>0){
   efs--;
   ecfv.innerHTML='   '+efs+'   ';
   if(document.getElementById('extra1')!=null){
      if(efs==0)
         extra1.hidden=true;
      extra2.innerHTML=efs;
      extra3.innerHTML=efs==1?'':'s';   
      }    
   if(efs==0){
      ecfv.style.background='#fff';
      decef.style.color='#eeeeee';
      decef.style.cursor='default';
      if(document.getElementById('decd1')!=null){
         xs.style.background='#fff';
         decd1.style['font-style']='italic';
         decd2.style['font-weight']='normal'; 
         }            
      } 	     
   }
}     	
else if(c=='Equal'||c=='NumpadAdd'){
   efs++;
   ecfv.innerHTML='   '+efs+'   '; 
   if(document.getElementById('extra1')!=null){
      if(efs==1&&eo>=0)
         extra1.hidden=false;
      extra2.innerHTML=efs;
      extra3.innerHTML=efs==1?'':'s';   
      }     
   if(efs==1){
      decef.style.color='#000';
      decef.style.cursor='pointer';
      ecfv.style.background='#b0ffb0';
      if(document.getElementById('decd1')!=null){
         xs.style.background='#fffff0';
         decd1.style['font-style']='normal';
         decd2.style['font-weight']='bold';
         }
      }            	 	
   } 
else if(c=='Comma'){
if(di>0){
   di--;
   dis.innerHTML='   '+di+'   '; 
   if(document.getElementById('fsd')!=null){ 
      if(fsp){
      	fsn=pred(fsn);
         dots.previousSibling.remove();}             
      if(di==0)
         fsd.hidden=true;}        
   if(di==0){
      dis.style.background='#fff';
      decd.style.color='#eeeeee';
      decd.style.cursor='default';
      if(document.getElementById('dec1')!=null){
         xs.style.background='#fff';
         dec1.style['font-style']='italic';
         dec2.style['font-weight']='normal'; 
         }                        
      } 	     
   }
}     	
else if(c=='Period'){
   di++;
   dis.innerHTML='   '+di+'   '; 
   if(document.getElementById('fsd')!=null){ 
      if(fsp){     	
         let y=document.createElement('li');
         y.innerHTML='   '+(di-1)+': '+convert(fs(fsl,fsn));
         fsn=suc(fsn);
         dots.insertAdjacentHTML('beforebegin',y.outerHTML);}                
      if(di==1)
         fsd.hidden=false;}       
   if(di==1){
      decd.style.color='#000';
      decd.style.cursor='pointer';
      dis.style.background='#b0ffb0';
      if(document.getElementById('dec1')!=null){
         xs.style.background='#fffff0';
         dec1.style['font-style']='normal';
         dec2.style['font-weight']='bold';
         }        
      }            	 	
   }    
else if(c=='KeyT')
if(vt){
   vtext.style.background='#fff';
   vtext.style.color='#fff';
   vt=false;
   xs.hidden=true;
   }
else{
   vtext.style.background='#b0ffb0';
   vtext.style.color='#000';
   vt=true;
   xs.hidden=false;
   } 
else if(c=='KeyR'){
   resetlist();} 
else if(c=='KeyF'){
   format=1-format;
   formatting();
   if(document.getElementById('ex6')!=null){   
      let u=new Event('mouseover');
      Object.defineProperty(u,'target',{value:lea});
      document.dispatchEvent(u);   
      }  
   }      	 	       	
});

let bo='Limit',col='c',eo=-2,efs=0,
exp=['small expansion','single expansion','double expansion','triple expansion','quadruple expansion','quintuple expansion','sextuple expansion','septuple expansion','octuple expansion','ninefold expansion'];
exp[-1]='collapse',exp[-2]='view';
let etar=[et0,et1,et2,et3,et4,et5,et6,et7,et8,et9];
etar[-1]=etc,etar[-2]=etv;
let count=1,vt=true,pairb=[],pairl=[],exb=[],di=5,fsl,fsn,fsp,lea,format=1;
dis.innerHTML='   '+di+'   ';


//let st=cnf('[][]');
//let st=omegaex(cnf('[[][[c]]][[c]]'));

//document.write(st);
//console.log(st);
//let ar=[];
//ar=[1,1];
//document.write(ar==[1,1]);
//document.write(ar);
</script
></span></body>
</html>
